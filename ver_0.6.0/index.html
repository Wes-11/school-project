<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"></script>
  <script type="text/javascript" src="/webAppScripts.js"></script>
  <link rel="stylesheet" type="text/css" href="/StyleSheet.css">
  <title>index</title>
  <script type="text/javascript">
  </script>
</head>

<body>
  <script type="text/javascript">
    $(document).ready(function() {
      $.get("/beer", function(data, status) {
        var beer = data;
        buildTable(beer)
        childSpawn('example');
      });
      var a = logCheck()
      if (a == 1) {
        $.post("/fav", {
          user: document.cookie.match('(^|;)\\s*' + 'username' + '\\s*=\\s*([^;]+)')[2]
        }, function(data, status) {
          buildFavs(data)
          childSpawn('favorite')
        })
      }

    });
  </script>

  <div class="form-group" id="logForm" style="display:none">
    <form class="form" action="/log" method="post">
      <input type="text" name="userT" class="form-control" id="username" placeholder="Username" value="">
      <input type="text" name="passT" class="form-control" id="password" placeholder="pwd" value="">
      <button type="submit" class="btn">Login</button>
      <button type="button" class="btn cancel" onclick="closeForm('logForm')">Close</button>

    </form>
  </div>

  <div class="log" id="registration" style="display:none">
    <form class="" action="/register" method="post">
      <input type="text" placeholder="Enter username" name="newUser" value="" required id='userR'>
      <input type="password" placeholder="Enter Password" name="newPass" value="" required id='passR'>
      <button type="submit" class="btn">Register</button>
      <button type="button" class="btn cancel" onclick="closeForm('registration')">Close</button>
    </form>
  </div>

  <div class="d-flex justify-content-center">
    <div class="btn-group">

      <button type="button" class="btn" onclick="openForm('logForm')">sign in</button>
      <button type="button" class="btn" onclick="deleteCookie('username'); alert('logged out'); location.reload()">Log out</button>
      <button type="button" class="btn" onclick="openForm('registration')">sign up</button>
    </div>
  </div>
  <div class="tab">
    <button class="btn" onclick="tabulate(event, 'menu')" id="default">menu</button>
    <button class="btn" onclick="tabulate(event, 'favorites')" id="fav">favorites</button>
  </div>

  <div id="menu" class="content">

    <div class="table-responive">
      <table id="example" class="table table-striped" style="width:100%">
        <thead class="thead-dark">
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Rating</th>
            <th>Price</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <!--do not put anything here, ever -->
        </tbody>
      </table>

    </div>

  </div>

  <div id="favorites" class="content">
    <div class="table-responive">
      <table id="favorite" class="table table-striped" style="width:100%">
        <thead class="thead-dark">
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Rating</th>
            <th>Price</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <!--do not put anything here, ever -->
        </tbody>
      </table>

    </div>
    <script>
      document.getElementById("default").click();

      function openForm(id) {
        document.getElementById(id).style.display = "block";
      }

      function closeForm(id) {
        document.getElementById(id).style.display = "none";
      }
    </script>

</body>

</html>
</body>

</html>
